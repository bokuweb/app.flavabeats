// Generated by CoffeeScript 1.8.0
(function() {
  var flavaApp, game;

  game = null;

  flavaApp = angular.module('flavaApp', ['ngRoute', 'ngAnimate', 'ngSanitize']);

  flavaApp.config(function($routeProvider) {
    return $routeProvider.when('/', {
      templateUrl: 'splash.html'
    }).when('/select', {
      templateUrl: 'select.html'
    }).when('/ouroboros/:id', {
      controller: 'gameCtrl',
      templateUrl: 'ouroboros.html'
    }).otherwise({
      redirectTo: '/'
    });
  });

  flavaApp.controller('splashCtrl', function($scope) {
    var agent;
    agent = navigator.userAgent;
    if (agent.search(/(iPhone|iPod|Android|Mobile)/) !== -1) {
      return $scope.isMobile = true;
    } else {
      return $scope.isMobile = false;
    }
  });

  flavaApp.controller('gameCtrl', function($scope, $routeParams) {
    console.log($routeParams.id);
    game = new Game();
    console.log(g_music[$routeParams.id]);
    return game.load(g_music[$routeParams.id]);
  });

  flavaApp.controller('MainCtrl', function($scope) {
    var i, level, value, _i, _j, _len, _ref;
    $scope.desc = false;
    $scope.music = g_music;
    _ref = $scope.music;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      value = _ref[_i];
      level = 'Level ';
      for (i = _j = 0; _j <= 9; i = ++_j) {
        if (i < value.level) {
          level += '<i class="fa fa-star-o level"></i>';
        }
      }
      value.levelIcon = level;
    }
    return $scope.changeSort = function() {
      return $scope.desc = !$scope.desc;
    };
  });

}).call(this);
